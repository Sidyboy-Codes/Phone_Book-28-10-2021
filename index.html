<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!---------------------------- Bootstrap link------------------------------------------ -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF"
      crossorigin="anonymous"
    />

    <!-- ---------------------------- CSS link------------------------------------------ -->
    <link rel="stylesheet" href="style.css" />

    <!-- ----------------------------Google Fonts link------------------------------------------ -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <title>Phone Book</title>
  </head>
  <body onload="reloadContactCards()">
    <!-- add contact modal -->
    <div class="modal fade" id="addContact" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add New Contact</h5>
            <button type="button" id="close_btn" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <form class="row g-3" onsubmit="addContactCard()">
            <div class="modal-body">
              <div class="mb-3">
                <label for="c_name" class="form-label">Name:</label>
                <input type="text" class="form-control" id="c_name" placeholder="Eg. Sidyboy" required />
              </div>
              <div class="mb-3">
                <label for="c_phone" class="form-label">Phone No.:</label>
                <input type="number" class="form-control" id="c_phone" placeholder="Eg. +91 1234567890" required />
              </div>
              <div class="mb-3">
                <label for="c_email" class="form-label">Email:</label>
                <input type="email" class="form-control" id="c_email" placeholder="Eg. qwerty@gmail.com" required />
              </div>
              <div class="mb-3">
                <label for="c_category" class="form-label">Category:</label>
                <select name="c_category" id="c_category" class="form-control">
                  <option value="" selected="true" disabled="disabled">Select Category</option>
                  <option value="Favourite">Favourite</option>
                  <option value="Family">Family</option>
                  <option value="Friends">Friends</option>
                </select>
              </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-dark">Add</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- How to dismiss modal on successful submit only ***My solution*** -->
    <!-- Due to "<button type="submit" class="btn btn-dark" data-bs-dismiss="modal">Add</button>"-->
    <!-- when you click "add" and its not successful submission due to eg. validation error, then also model will be closed
        due to data-bs-dismiss="modal" and we will not be able to add new contact properly -->
    <!-- ***Solution*** -->
    <!-- 1st. call addContactCard() onsubmit cuz if we do it "onclick" of "Add" button it will not check form validation -->
    <!-- 2nd. in addContactCard() create method using DOM to click "close" button explicitly using javascript ... so giving 
        id to "close button" so that we can target it -->
    <!-- ----------------------------Nav Bar--------- -->

    <header>
      <div class="Navbar">
        <!-- <div class="Nav_items"> -->
        <span class="material-icons-outlined"> account_circle </span>

        <div class="Nav_brand"><strong>Ph.Book4</strong></div>

        <span type="button" data-bs-toggle="modal" data-bs-target="#addContact" class="material-icons-outlined"> add_circle </span>
      </div>
      <!-- </div> -->
    </header>

    <!-- ---------------------------- Hero Section------------------ -->

    <section>
      <div class="Hero">
        <h1>Phone Book</h1>
        <p>All your Contacts at one place.</p>
      </div>
    </section>

    <!-- ---------------------------- Contact log----------------------------------------------------------------------------- -->

    <section class="contact_log">
      <h1>Contacts<strong>.</strong></h1>

      <!--------- Contact categories------ -->

      <section class="contact_categories">
        <div id="c_c_All" class="c_c_selected" onclick="category_clicked(this.id)">All</div>
        <div id="c_c_favourite" class="c_c_notSelected" onclick="category_clicked(this.id)">Favourite</div>
        <div id="c_c_family" class="c_c_notSelected" onclick="category_clicked(this.id)">Family</div>
        <div id="c_c_friends" class="c_c_notSelected" onclick="category_clicked(this.id)">Friends</div>
      </section>
    </section>

    <!-- Contact details -->

    <section class="contact_info">
      <div id="all_contacts" class="show_cards"></div>
      <div id="fav_contacts" class="hide_cards"></div>
      <div id="fam_contacts" class="hide_cards"></div>
      <div id="fri_contacts" class="hide_cards"></div>
    </section>

    <!-- ----------------------------Footer----------------------------- -->

    <!-- ---------------------Document End----------------------------------------- -->

    <!-- --------------------------------Bootstrap script----------------------- -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.min.js"
      integrity="sha384-PsUw7Xwds7x08Ew3exXhqzbhuEYmA2xnwc8BuD6SEr+UmEHlX8/MCltYEodzWA4u"
      crossorigin="anonymous"
    ></script>

    <!-- sweetAlert CDN for nice alert box -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <!-- --------------------------My JavaScript------------------------------------------- -->
    <script src="./index.js"></script>
  </body>
</html>
